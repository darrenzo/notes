# DNS

## 根域

- 就是所谓的“.”
  - 网址www.baidu.com在配置当中应该是 **www.baidu.com.**（最后有一个点, 一般我们在浏览器里输入时会省略后面的点）
- 根域服务器有13台主机（1台主，12台辅）,也就有13个ip地址，但是有很多个镜像，分布在世界各地，因为这些IP地址借助了任播的技术，所以我们可以在全球设立这些IP的镜像站点，你访问到的这个IP并不是唯一的那台主机, 这些主机的内容都是一样的

## 域的划分

- 域名的等级（通俗的说有几个点就叫几级域名）
  - 顶级域名（或一级域名）
    - 如：**baidu.com** 中的 **.com**
    - 顶级域名又分为三类：
      - 国家和地区顶级域名：如 **.cn** 、**.jp**
      - 通用顶级域名：如 **.com** 、**.net** 、**.org**
      - 新顶级域名：如 **.xyz** 、**.top** 、**.men** 、**.red**
  - 二级域名（二级域名及其以上级别的域名，统称为子域名，不在“注册域名”的范畴中, 由顶级域名拥有者统一发放）
    - 如：**example.baidu.com** 中的 **.baidu.com**
    - **example** 指的是 **baidu.com** 下的一条记录

    ```shell
    # 以下为DNS部分记录信息
    # 如果以域名baidu.com作为基准，Record列的内容指的是baidu.com前面所有的字段
    # 记录 a 表示 a.baidu.com    记录@表示的是baidu.com本身，前面没有字段
    # DNS负载均衡这个概念的意思是通过对相同的记录返回不同的ip地址达到将请求分散到不同的主机上
    | Record | Type | Value    | Priority | ...
    |:------:|:----:|:--------:|:---------:
    |   @    | A    | 1.1.1.1  |  5       |
    |   @    | A    | 2.2.2.2  |  10      |
    |   a    | A    | 1.1.1.1  |  5       |
    |   a    | A    | 2.2.2.2  |  10      |
    |   a    | AAAA | ::1      |  10      |
    |   @    | MX   | 2.1.1.1  |  10      |
    ```

  - 三级域名
    - 如：**a.www.baidu.com**
  - 多级域名（有长度限制）

## DNS解析

![DNS解析流程](/img/dns.png)
